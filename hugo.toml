# ===================================================================
#  最终修正版 hugo.toml - 适配 Git Submodule 和 Hugo v0.152.2+
# ===================================================================

# -- 基础设置 --
baseURL = "https://QwQBiG.github.io/"
languageCode = "zh-cn"
title = "QwQBiG's Blog"
theme = "blowfish" # <-- 使用 Submodule 模式时，这里直接写主题文件夹的名字

# -- 核心参数 [params] --
[params]
    # [作者信息] - 这是修正错误二的关键！
    # Blowfish 需要一个 author 对象，而不是一个简单的字符串
    [params.author]
        name = "QwQBiG"
        
    description = "在这里记录学习，分享心得。"
    mainSections = ["posts"]
    showReadingTime = true
    
    [params.homepage]
      layout = "list"
    
    [params.code]
        copy = true
        lineNumbers = true
    
    [params.article]
        showTableOfContents = true
    
    [[params.social]]
        name = "GitHub"
        icon = "brand-github"
        url = "https://github.com/QwQBiG"
    [[params.social]]
        name = "Bilibili"
        icon = "brand-bilibili"
        url = "https://space.bilibili.com/3546921071282890"

    [params.giscus]
        repo = "QwQBiG/QwQBiG.github.io"
        repoID = "R_kgDOQUrNow"
        category = "Announcements"
        categoryID = "DIC_kwDOQUrNo84Cxx1C"
        mapping = "pathname"
        theme = "preferred_color_scheme"
        lang = "zh-CN"
    
    # 自定义资源加载
    custom_css = ["css/custom.css"]
    custom_js = ["js/katex.js"]

# -- 搜索功能 --
[outputFormats.SearchIndex]
    mediaType = "application/json"
    baseName = "search"
    isPlainText = true
    notAlternative = true
[params.search]
    enable = true
    index = "/search.json"
[outputs]
    home = ["HTML", "RSS", "SearchIndex"]
    section = ["HTML", "RSS"]

# -- 主菜单配置 --
[[menu.main]]
    name = "文章"
    pageRef = "/posts"
    weight = 10
[[menu.main]]
    name = "标签"
    pageRef = "/tags"
    weight = 30
[[menu.main]]
    name = "搜索"
    pageRef = "/search"
    weight = 40
[[menu.main]]
    name = "关于"
    pageRef = "/about"
    weight = 50

# -- 分页 (Pagination) --
# 这是修正错误一的关键！我们使用 Blowfish 内置的分页，不再需要那个旧模板
[pagination]
    paginate = 10