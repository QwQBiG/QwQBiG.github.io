/* 1. 定义开关容器（跑道） */
#theme-toggle {
    /* 强制设置尺寸，防止被压缩 */
    width: 54px !important;
    height: 28px !important;
    
    /* 清除默认按钮样式 */
    border: none !important;
    outline: none !important;
    padding: 0 !important;
    margin-left: 10px !important; /* 和左边的菜单拉开点距离 */
    
    /* 背景色：白天是天蓝色 */
    background: #87CEEB !important; 
    border-radius: 30px !important;
    
    /* 布局属性 */
    position: relative !important;
    cursor: pointer;
    transition: background 0.5s ease;
    
    /* 确保它不会被隐藏 */
    display: inline-block !important;
    vertical-align: middle;
    
    /* 阴影增加立体感 */
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
}

/* 2. 定义滑块（太阳） - 使用 ::after 伪元素 */
#theme-toggle::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px; /* 初始位置在左侧 */
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #FFD700; /* 金色太阳 */
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    
    /* 弹跳动画核心 */
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 2;
}

/* 3. 定义装饰（云彩） - 使用 ::before 伪元素 */
#theme-toggle::before {
    content: '☁'; /* 白天显示云 */
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-55%);
    color: white;
    font-size: 14px;
    opacity: 0.9;
    transition: all 0.4s ease;
    z-index: 1;
}

/* ====================================
   黑夜模式样式 (Body 有 dark 类时触发)
   ==================================== */

/* 容器变色：变成深空灰 */
body.dark #theme-toggle {
    background: #2f3640 !important;
}

/* 滑块移动：太阳变月亮 */
body.dark #theme-toggle::after {
    /* 向右移动 26px (54宽 - 24球 - 2边距 - 2边距) */
    left: calc(100% - 26px); 
    background: #f5f6fa; /* 月亮白 */
    box-shadow: inset -3px -2px 0 0 #bdc3c7; /* 月球坑纹理 */
}

/* 装饰变化：云彩变星星 */
body.dark #theme-toggle::before {
    content: '✨';
    right: auto; /* 清除右边距 */
    left: 6px;   /* 跑到左边 */
    color: #f1c40f;
    transform: translateY(-50%) scale(0.9);
}